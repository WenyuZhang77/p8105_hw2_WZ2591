p8105\_hw2\_WZ2591
================
Wenyu Zhang
10/5/2021

``` r
library(tidyverse)
```

    ## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.1 ──

    ## ✓ ggplot2 3.3.5     ✓ purrr   0.3.4
    ## ✓ tibble  3.1.4     ✓ dplyr   1.0.7
    ## ✓ tidyr   1.1.3     ✓ stringr 1.4.0
    ## ✓ readr   2.0.1     ✓ forcats 0.5.1

    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## x dplyr::filter() masks stats::filter()
    ## x dplyr::lag()    masks stats::lag()

``` r
library(readxl)
```

# Problem 1

## Read and clean the Mr. Trash Wheel sheet:

1.  specify the sheet in the Excel file and to omit non-data entries
    (rows with notes / figures; columns containing notes) using
    arguments in read\_excel

2.  use reasonable variable names

3.  omit rows that do not include dumpster-specific data

4.  round the number of sports balls to the nearest integer

``` r
mr_trash_wheel_data = 
  read_excel("data/Trash_Wheel_Collection_Totals_8_6_19.xlsx", range = "A2:N408") %>% 
  janitor::clean_names() %>% 
  rename(weight = weight_tons, volume_cubic = volume_cubic_yards) %>% 
  filter(!is.na(dumpster)) %>%
  mutate(sports_balls = as.integer(round(sports_balls)))

mr_trash_wheel_data
```

    ## # A tibble: 344 × 14
    ##    dumpster month  year date                weight volume_cubic plastic_bottles
    ##       <dbl> <chr> <dbl> <dttm>               <dbl>        <dbl>           <dbl>
    ##  1        1 May    2014 2014-05-16 00:00:00   4.31           18            1450
    ##  2        2 May    2014 2014-05-16 00:00:00   2.74           13            1120
    ##  3        3 May    2014 2014-05-16 00:00:00   3.45           15            2450
    ##  4        4 May    2014 2014-05-17 00:00:00   3.1            15            2380
    ##  5        5 May    2014 2014-05-17 00:00:00   4.06           18             980
    ##  6        6 May    2014 2014-05-20 00:00:00   2.71           13            1430
    ##  7        7 May    2014 2014-05-21 00:00:00   1.91            8             910
    ##  8        8 May    2014 2014-05-28 00:00:00   3.7            16            3580
    ##  9        9 June   2014 2014-06-05 00:00:00   2.52           14            2400
    ## 10       10 June   2014 2014-06-11 00:00:00   3.76           18            1340
    ## # … with 334 more rows, and 7 more variables: polystyrene <dbl>,
    ## #   cigarette_butts <dbl>, glass_bottles <dbl>, grocery_bags <dbl>,
    ## #   chip_bags <dbl>, sports_balls <int>, homes_powered <dbl>

## Read and clean precipitation data for 2018 and 2019:

``` r
trash_wheel_precipitation_2018 = 
  read_excel("data/Trash_Wheel_Collection_Totals_8_6_19.xlsx", sheet = 5, range = "A2:B15") %>%
  janitor::clean_names() %>%
  rename(total_precipitation = total) %>%
  filter(!is.na(total_precipitation)) %>% 
  mutate(year = 2018, 
         month = month.name[month])

trash_wheel_precipitation_2018
```

    ## # A tibble: 13 × 3
    ##    month     total_precipitation  year
    ##    <chr>                   <dbl> <dbl>
    ##  1 January                  0.94  2018
    ##  2 February                 4.8   2018
    ##  3 March                    2.69  2018
    ##  4 April                    4.69  2018
    ##  5 May                      9.27  2018
    ##  6 June                     4.77  2018
    ##  7 July                    10.2   2018
    ##  8 August                   6.45  2018
    ##  9 September               10.5   2018
    ## 10 October                  2.12  2018
    ## 11 November                 7.82  2018
    ## 12 December                 6.11  2018
    ## 13 <NA>                    70.3   2018

``` r
trash_wheel_precipitation_2019 = 
  read_excel("data/Trash_Wheel_Collection_Totals_8_6_19.xlsx", sheet = 4, range = "A2:B15") %>%
  janitor::clean_names() %>%
  rename(total_precipitation = total) %>%
  drop_na(total_precipitation) %>% 
  mutate(year = 2019, 
         month = month.name[month])

trash_wheel_precipitation_2019
```

    ## # A tibble: 7 × 3
    ##   month    total_precipitation  year
    ##   <chr>                  <dbl> <dbl>
    ## 1 January                 3.1   2019
    ## 2 February                3.64  2019
    ## 3 March                   4.47  2019
    ## 4 April                   1.46  2019
    ## 5 May                     3.58  2019
    ## 6 June                    0.42  2019
    ## 7 <NA>                   16.7   2019

``` r
trash_wheel_precipitation_2018_2019 = 
  full_join(trash_wheel_precipitation_2018, trash_wheel_precipitation_2019, by = "month")


trash_wheel_precipitation_2018_2019$month[13] = "Grand Total"

trash_wheel_precipitation_2018_2019
```

    ## # A tibble: 13 × 5
    ##    month       total_precipitation.x year.x total_precipitation.y year.y
    ##    <chr>                       <dbl>  <dbl>                 <dbl>  <dbl>
    ##  1 January                      0.94   2018                  3.1    2019
    ##  2 February                     4.8    2018                  3.64   2019
    ##  3 March                        2.69   2018                  4.47   2019
    ##  4 April                        4.69   2018                  1.46   2019
    ##  5 May                          9.27   2018                  3.58   2019
    ##  6 June                         4.77   2018                  0.42   2019
    ##  7 July                        10.2    2018                 NA        NA
    ##  8 August                       6.45   2018                 NA        NA
    ##  9 September                   10.5    2018                 NA        NA
    ## 10 October                      2.12   2018                 NA        NA
    ## 11 November                     7.82   2018                 NA        NA
    ## 12 December                     6.11   2018                 NA        NA
    ## 13 Grand Total                 70.3    2018                 16.7    2019

# Problem 2

\#\#First, clean the data in pols-month.csv.

1.  Use separate() to break up the variable mon into integer variables
    year, month, and day

2.  replace month number with month name

3.  create a president variable taking values gop and dem, and remove
    prez\_dem and prez\_gop

4.  remove the day variable.
